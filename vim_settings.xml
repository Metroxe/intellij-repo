<application>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="/Dummy.txt" timestamp="1558664515804">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="2" />
        <mark key="." line="0" column="2" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" timestamp="1558670495979">
        <mark key="'" line="109" column="54" />
        <mark key="[" line="58" column="16" />
        <mark key="]" line="58" column="16" />
        <mark key="." line="58" column="16" />
        <mark key="^" line="58" column="86" />
      </file>
      <file name="$USER_HOME$/Documents/Projects/fraser-land-farms/src/app/services/APIAdapater.tsx" timestamp="1558499532590">
        <mark key="'" line="0" column="0" />
        <mark key="[" line="39" column="4" />
        <mark key="]" line="39" column="4" />
        <mark key="." line="39" column="4" />
        <mark key="^" line="49" column="120" />
      </file>
    </filemarks>
    <jumps>
      <jump line="66" column="0" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="38" column="0" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="82" column="56" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="115" column="0" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="15" column="4" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/RouteManager.ts" />
      <jump line="63" column="0" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="60" column="0" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="35" column="33" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="42" column="31" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="46" column="16" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/app/services/APIAdapater.tsx" />
      <jump line="0" column="0" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/app/services/APIAdapater.tsx" />
      <jump line="43" column="16" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="36" column="43" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="109" column="4" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
      <jump line="96" column="54" filename="$USER_HOME$/Documents/Projects/fraser-land-farms/src/server/routes/root/forms/Summary.ts" />
    </jumps>
    <registers>
      <register name="&quot;" type="4">
        <text>newRow.startTime</text>
      </register>
      <register name="-" type="4">
        <text>newRow.startTime</text>
      </register>
      <register name="0" type="4">
        <text>object</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">CQlmb3IgKGNvbnN0IHJvdyBvZiByZXN1bHRzKSB7Cg==</text>
      </register>
      <register name="2" type="2">
        <text encoding="base64">CQkJYWRkVG9OZXdSZXN1bHRzKHJvdyk7Cg==</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">CQl9Cg==</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">CQkK</text>
      </register>
      <register name="5" type="4">
        <text>const summaries: ISubmission[] = [];
		for (const row of results) {
			const submissionTimeStamp: Moment = Summary.convertToDate(row.submissionTimeStamp);
			const startDate: Moment = Summary.convertToDate(row.startTime);
			const endDate: Moment = Summary.convertToDate(row.endTime);
			const startString: string = startDate.format(&quot;DD/MM/YYYY&quot;);
			const endString: string = endDate.format(&quot;DD/MM/YYYY&quot;);
			const minutes: number = Math.floor(endDate.diff(startDate, &quot;minutes&quot;) % 60);
			const hours: number = Math.floor(endDate.diff(startDate, &quot;hours&quot;));

			if (startString === endString) {
				summaries.push({
					formName: row.form,
					date: submissionTimeStamp,
					loggedTime: {hours, minutes},
				});
			} else {
				results.push({
					startTime: row.startTime,
					endTime: Summary.textFormatter(moment(startDate).hours(23).minutes(59).toDate()),
					formName: row.form,
					submissionTimeStamp: row.submissionTimeStamp,
				});
				results.push({
					startTime: Summary.textFormatter(moment(startDate).hours(0).minutes(0).add(1, &quot;day&quot;).toDate()),
					endTime: row.endTime,
					formName: row.form,
					submissionTimeStamp: row.submissionTimeStamp,
				});
			}
		}

		for (const sum of summaries) {
			const key: string = sum.date.format(&quot;DD/MM/YYYY&quot;);

			if (!summary.hasOwnProperty(key)) {
				summary[key] = {
					date: sum.date,
					loggedTime: {...sum.loggedTime},
					submissions: [{...sum}],
				};
			} else {
				summary[key].submissions.push(sum);
				const curMins: number = summary[key].loggedTime.minutes + sum.loggedTime.minutes;
				summary[key].loggedTime.hours += (sum.loggedTime.hours + Math.floor(curMins / 60));
				summary[key].loggedTime.minutes = curMins % 60;
			}
		}</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">CQkJY29uc3Qgc3RhcnREYXRlOiBNb21lbnQgPSBTdW1tYXJ5LmNvbnZlcnRUb0RhdGUocm93LnN0YXJ0VGltZSk7CgkJCWNvbnN0IGVuZERhdGU6IE1vbWVudCA9IFN1bW1hcnkuY29udmVydFRvRGF0ZShyb3cuZW5kVGltZSk7Cg==</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">aW1wb3J0IHthcnJheX0gZnJvbSAicHJvcC10eXBlcyI7Cg==</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">CQljb25zdCBwcmltYXJ5S2V5czoge1trZXk6IHN0cmluZ106IGJvb2xlYW59ID0ge307Cg==</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">CQkJaWYgKCFwcmltYXJ5S2V5ZGRzZGRkZGRkW3Jvdy5zdWJtaXNzaW9uVGltZVN0YW1wXSkgewo=</text>
      </register>
      <register name=":" type="4">
        <text>help</text>
      </register>
    </registers>
    <search>
      <last-dir>0</last-dir>
      <show-last>false</show-last>
    </search>
    <history>
      <history-search />
      <history-cmd>
        <entry>help</entry>
      </history-cmd>
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts />
    <editor>
      <key-repeat enabled="true" />
    </editor>
  </component>
</application>